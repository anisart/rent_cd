<head>
    <title>Rent CD</title>

    <script type="text/javascript" src="webix-meteor.js"></script>
</head>
<body>
<script type="text/javascript">
    webix.ready(function(){
        webix.protoUI({
            name:"editlist"
        }, webix.EditAbility, webix.ui.list);

        webix.ui({
            view:"tabview",
            cells:[
                {
                    header:"Genre",
                    body:{
                        container:"listGenre",
                        type:"space",
                        rows:[
                            {view:"toolbar", cols:[
                                {
                                    view:"button",
                                    value:"Add New Genre",
                                    width:150,
                                    type:"form",
                                    align:"left",
                                    click:function(){
                                        var row = $$("listGenres").add({
                                            title:"New title"
                                        });
                                    }
                                },
                                {},
                                {
                                    view:"button",
                                    value:"Delete Genre",
                                    width:150,
                                    type:"danger",
                                    align:"right",
                                    click:function(){
                                        var id = $$("listGenres").getSelectedId();
                                        if (id)
                                            $$("listGenres").remove(id);
                                        else
                                            webix.message("Please select any row first");
                                    }
                                }
                            ]
                            },
                            { cols:[
                                {
                                    view:"editlist",
                                    id:"listGenres",
                                    template:"#title#",
                                    url:webix.proxy('meteor', Genres),
                                    save:webix.proxy('meteor', Genres),

                                    autoConfig: true,
                                    editable:true,
                                    editaction:"dblclick",
                                    editor:"text",
                                    editValue:"title",
                                    navigation:true,
                                    select:"cell",
                                    width:320
                                }
                            ]}
                        ]
                    }
                }
            ]
        });
    });
</script>
<div id="listGenre"></div>
</body>